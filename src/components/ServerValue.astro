---
import { StravaGateway } from "@/lib/strava";

export interface Props {
  name: "stravaYtdMiles" | "test";
}

const { name } = Astro.props;

let getValue: () => Promise<string | number> = async () => "Heck :/";

switch (name) {
  case "stravaYtdMiles":
    getValue = StravaGateway.getYtdMiles;
    break;
  case "test":
    getValue = async () => "Ayyyyy :D";
    break;
  default:
    throw Error("Invalid ServerString name");
}

const value = await getValue().catch(() => "[fetch error]");
---

{value}
